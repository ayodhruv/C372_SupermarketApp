<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Supermarket App</title>

  <style>
    /* Center the hero vertically and give some breathing space */
    .hero-wrapper {
      min-height: calc(100vh - 56px); /* 56px â‰ˆ navbar height */
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 1rem;
    }

    /* Glass / card effect over your veggie background */
    .hero-box {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(8px);
      border-radius: 16px;
      padding: 2.5rem 2rem;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }

    .hero-title {
      font-size: 2.4rem;
      font-weight: 700;
      color: #2f2f2f;
      margin-bottom: 0.8rem;
    }

    .hero-subtitle {
      font-size: 1.1rem;
      color: #555;
      margin-bottom: 1.8rem;
    }

    .hero-buttons .btn {
      min-width: 130px;
    }
  </style>
</head>
<body>
  <!-- Background styles -->
  <%- include('./partials/background') %>

  <!-- Navbar (using your partial that already handles user/login/logout) -->
  <%- include('./partials/navbar') %>

  <!-- Main hero section -->
  <div class="hero-wrapper">
    <div class="hero-box text-center">
      <h1 class="hero-title">Welcome to Supermarket App!</h1>

      <% if (!user) { %>
        <!-- Guest view -->
        <p class="hero-subtitle">
        <br>
          Please <span class="fw-semibold">login</span> or create an account to get started.
        </p>

        <div class="hero-buttons d-flex justify-content-center gap-3 flex-wrap">
          <a href="/login" class="btn btn-primary">Login</a>
          <a href="/register" class="btn btn-outline-secondary">Register</a>
        </div>

      <% } else if (user.role === 'admin') { %>
        <!-- Admin view -->
        <p class="hero-subtitle">
          Hi <span class="fw-semibold"><%= user.username %></span>,<br>
          you can manage products and inventory from your dashboard.
        </p>

        <div class="hero-buttons d-flex justify-content-center gap-3 flex-wrap">
          <a href="/inventory" class="btn btn-primary">Go to Inventory</a>
          <a href="/logout" class="btn btn-outline-secondary">Logout</a>
        </div>

      <% } else { %>
        <!-- Normal user view -->
        <p class="hero-subtitle">
          Welcome back, <span class="fw-semibold"><%= user.username %></span>!<br>
          Your cart and favourite items are waiting for you.
        </p>

        <div class="hero-buttons d-flex justify-content-center gap-3 flex-wrap">
          <a href="/shopping" class="btn btn-primary">Start Shopping</a>
          <a href="/logout" class="btn btn-outline-secondary">Logout</a>
        </div>
      <% } %>
    </div>
  </div>
</body>
</html>
